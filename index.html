<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Customizer</title>
    <link rel="preconnect" href="https://api.openai.com" crossorigin>
    <link rel="preconnect" href="https://api.anthropic.com" crossorigin>
    <link rel="prefetch" href="/ai.js" as="script" crossorigin>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¯ Resume Customizer</h1>
            <p>AI-powered resume optimization for job applications</p>
        </div>

        <div class="tabs">
            <button class="tab active" data-target="setup">Setup</button>
            <button class="tab" data-target="resume">Resume</button>
            <button class="tab" data-target="job">Job Match</button>
            <button class="tab" data-target="optimize">Optimize</button>
        </div>

        <!-- Setup Tab -->
        <div class="tab-content active" id="setup">
            <div class="api-setup">
                <h3>ðŸ”‘ API Configuration</h3>
                <p>To use AI features, you'll need an API key from OpenAI or Anthropic:</p>
                <div class="form-group">
                    <label>OpenAI API Key (optional)</label>
                    <input type="password" id="openai-key" placeholder="sk-..." />
                </div>
                <div class="form-group">
                    <label>Anthropic API Key (optional)</label>
                    <input type="password" id="anthropic-key" placeholder="sk-ant-..." />
                </div>
                <button class="btn" id="save-keys-btn">Save API Keys</button>
            </div>
            
            <h3>ðŸ“± How to Use</h3>
            <div class="suggestions">
                <div class="suggestion-item">
                    <strong>Step 1:</strong> Enter your API key above (get from OpenAI or Anthropic)
                </div>
                <div class="suggestion-item">
                    <strong>Step 2:</strong> Paste your resume in the Resume tab
                </div>
                <div class="suggestion-item">
                    <strong>Step 3:</strong> Add job description in Job Match tab
                </div>
                <div class="suggestion-item">
                    <strong>Step 4:</strong> Get AI optimization suggestions
                </div>
            </div>
        </div>

        <!-- Resume Tab -->
        <div class="tab-content" id="resume">
            <div class="form-group">
                <label>ðŸ“„ Paste Your Resume Text</label>
                <textarea id="resume-input" rows="15" placeholder="Paste your resume text here..."></textarea>
            </div>
            <button class="btn" id="parse-btn">Parse Resume to JSON</button>
            
            <div id="resume-json" style="display: none;">
                <h3>ðŸ“Š Structured Resume Data</h3>
                <div class="json-preview" id="json-output"></div>
                <button class="btn" id="edit-json-btn">Edit JSON Structure</button>
            </div>
        </div>

        <!-- Job Match Tab -->
        <div class="tab-content" id="job">
            <div class="form-group">
                <label>ðŸ’¼ Job Description</label>
                <textarea id="job-input" rows="10" placeholder="Paste the job description here..."></textarea>
            </div>
            <button class="btn" id="analyze-btn">Analyze Match</button>
            
            <div id="match-result" style="display: none;">
                <div class="score-display" id="score-display">
                    <h2>Match Score: <span id="score-value">0</span>%</h2>
                    <p id="score-description">Analysis in progress...</p>
                </div>
                
                <div class="suggestions" id="match-suggestions">
                    <h3>ðŸŽ¯ Match Analysis</h3>
                    <div id="suggestions-content"></div>
                </div>
            </div>
        </div>

        <!-- Optimize Tab -->
        <div class="tab-content" id="optimize">
            <h3>ðŸš€ AI Resume Optimization</h3>
            <p>Select sections to optimize based on the job description:</p>
            
            <div class="form-group">
                <label>Section to Optimize</label>
                <select id="section-select">
                    <option value="summary">Professional Summary</option>
                    <option value="experience">Work Experience</option>
                    <option value="skills">Skills</option>
                    <option value="education">Education</option>
                </select>
            </div>
            
            <button class="btn" id="optimize-btn">Optimize Selected Section</button>
            
            <div id="optimization-result" style="display: none;">
                <h3>âœ¨ Optimized Content</h3>
                <div class="json-preview" id="optimized-content"></div>
                <button class="btn" id="accept-btn">Accept Changes</button>
                <button class="btn" id="export-btn">Export Resume</button>
            </div>
        </div>
    </div>

    <script type="module" src="/app.js" defer></script>
</body>
</html>
