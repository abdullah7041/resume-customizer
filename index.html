<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Customizer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            border: none;
            background: none;
            color: #6c757d;
        }

        .tab.active {
            background: white;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        textarea, input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            transition: border-color 0.3s ease;
            resize: vertical;
        }

        textarea:focus, input:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 15px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .score-display {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
        }

        .score-display.good {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
        }

        .score-display.excellent {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .json-preview {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .api-setup {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .api-setup h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .suggestions {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .suggestions h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .suggestion-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #3498db;
        }

        @media (max-width: 768px) {
            .container {
                margin: 0;
                border-radius: 0;
                min-height: 100vh;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                padding: 12px;
            }
            
            .tab-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¯ Resume Customizer</h1>
            <p>AI-powered resume optimization for job applications</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('setup')">Setup</button>
            <button class="tab" onclick="showTab('resume')">Resume</button>
            <button class="tab" onclick="showTab('job')">Job Match</button>
            <button class="tab" onclick="showTab('optimize')">Optimize</button>
        </div>

        <!-- Setup Tab -->
        <div class="tab-content active" id="setup">
            <div class="api-setup">
                <h3>ðŸ”‘ API Configuration</h3>
                <p>To use AI features, you'll need an API key from OpenAI or Anthropic:</p>
                <div class="form-group">
                    <label>OpenAI API Key (optional)</label>
                    <input type="password" id="openai-key" placeholder="sk-..." />
                </div>
                <div class="form-group">
                    <label>Anthropic API Key (optional)</label>
                    <input type="password" id="anthropic-key" placeholder="sk-ant-..." />
                </div>
                <button class="btn" onclick="saveApiKeys()">Save API Keys</button>
            </div>
            
            <h3>ðŸ“± How to Use</h3>
            <div class="suggestions">
                <div class="suggestion-item">
                    <strong>Step 1:</strong> Enter your API key above (get from OpenAI or Anthropic)
                </div>
                <div class="suggestion-item">
                    <strong>Step 2:</strong> Paste your resume in the Resume tab
                </div>
                <div class="suggestion-item">
                    <strong>Step 3:</strong> Add job description in Job Match tab
                </div>
                <div class="suggestion-item">
                    <strong>Step 4:</strong> Get AI optimization suggestions
                </div>
            </div>
        </div>

        <!-- Resume Tab -->
        <div class="tab-content" id="resume">
            <div class="form-group">
                <label>ðŸ“„ Paste Your Resume Text</label>
                <textarea id="resume-input" rows="15" placeholder="Paste your resume text here..."></textarea>
            </div>
            <button class="btn" onclick="parseResume()">Parse Resume to JSON</button>
            
            <div id="resume-json" style="display: none;">
                <h3>ðŸ“Š Structured Resume Data</h3>
                <div class="json-preview" id="json-output"></div>
                <button class="btn" onclick="editJson()">Edit JSON Structure</button>
            </div>
        </div>

        <!-- Job Match Tab -->
        <div class="tab-content" id="job">
            <div class="form-group">
                <label>ðŸ’¼ Job Description</label>
                <textarea id="job-input" rows="10" placeholder="Paste the job description here..."></textarea>
            </div>
            <button class="btn" onclick="analyzeMatch()">Analyze Match Score</button>
            
            <div id="match-result" style="display: none;">
                <div class="score-display" id="score-display">
                    <h2>Match Score: <span id="score-value">0</span>%</h2>
                    <p id="score-description">Analysis in progress...</p>
                </div>
                
                <div class="suggestions" id="match-suggestions">
                    <h3>ðŸŽ¯ Match Analysis</h3>
                    <div id="suggestions-content"></div>
                </div>
            </div>
        </div>

        <!-- Optimize Tab -->
        <div class="tab-content" id="optimize">
            <h3>ðŸš€ AI Resume Optimization</h3>
            <p>Select sections to optimize based on the job description:</p>
            
            <div class="form-group">
                <label>Section to Optimize</label>
                <select id="section-select">
                    <option value="summary">Professional Summary</option>
                    <option value="experience">Work Experience</option>
                    <option value="skills">Skills</option>
                    <option value="education">Education</option>
                </select>
            </div>
            
            <button class="btn" onclick="optimizeSection()">Optimize Selected Section</button>
            
            <div id="optimization-result" style="display: none;">
                <h3>âœ¨ Optimized Content</h3>
                <div class="json-preview" id="optimized-content"></div>
                <button class="btn" onclick="acceptOptimization()">Accept Changes</button>
                <button class="btn" onclick="exportResume()">Export Resume</button>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let resumeData = null;
        let jobDescription = '';
        let apiKeys = {
            openai: '',
            anthropic: ''
        };

        // Load saved data
        function loadData() {
            const saved = localStorage.getItem('resumeCustomizer');
            if (saved) {
                const data = JSON.parse(saved);
                resumeData = data.resumeData;
                jobDescription = data.jobDescription;
                apiKeys = data.apiKeys || { openai: '', anthropic: '' };
                
                if (resumeData) {
                    document.getElementById('json-output').textContent = JSON.stringify(resumeData, null, 2);
                    document.getElementById('resume-json').style.display = 'block';
                }
                
                if (jobDescription) {
                    document.getElementById('job-input').value = jobDescription;
                }
                
                document.getElementById('openai-key').value = apiKeys.openai;
                document.getElementById('anthropic-key').value = apiKeys.anthropic;
            }
        }

        // Save data
        function saveData() {
            localStorage.setItem('resumeCustomizer', JSON.stringify({
                resumeData,
                jobDescription,
                apiKeys
            }));
        }

        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // Save API keys
        function saveApiKeys() {
            apiKeys.openai = document.getElementById('openai-key').value;
            apiKeys.anthropic = document.getElementById('anthropic-key').value;
            saveData();
            alert('API keys saved successfully!');
        }

        // Parse resume to JSON
        async function parseResume() {
            const resumeText = document.getElementById('resume-input').value;
            if (!resumeText.trim()) {
                alert('Please paste your resume text first');
                return;
            }

            // Show loading
            showLoading('Parsing resume...');
            
            // Check if API key exists and is valid format
            if (!apiKeys.openai && !apiKeys.anthropic) {
                console.log('No API keys found, using demo mode');
                resumeData = createMockResumeData(resumeText);
                displayResumeJson();
                saveData();
                return;
            }

            if (apiKeys.openai && !apiKeys.openai.startsWith('sk-')) {
                alert('Invalid OpenAI API key format. Key should start with "sk-"');
                return;
            }

            if (apiKeys.anthropic && !apiKeys.anthropic.startsWith('sk-ant-')) {
                alert('Invalid Anthropic API key format. Key should start with "sk-ant-"');
                return;
            }
            
            try {
                const prompt = `Parse this resume into a structured JSON format:

${resumeText}

Return only valid JSON with this structure:
{
  "personal": {
    "name": "",
    "email": "",
    "phone": "",
    "location": "",
    "linkedin": "",
    "github": ""
  },
  "summary": "",
  "experience": [
    {
      "company": "",
      "position": "",
      "duration": "",
      "responsibilities": [""],
      "achievements": [""]
    }
  ],
  "skills": {
    "technical": [""],
    "soft": [""]
  },
  "education": [
    {
      "degree": "",
      "institution": "",
      "year": "",
      "gpa": ""
    }
  ],
  "projects": [
    {
      "name": "",
      "description": "",
      "technologies": [""]
    }
  ]
}`;

                console.log('Calling AI API...');
                const response = await callAI(prompt);
                console.log('AI Response received:', response);
                
                // Extract JSON from response
                let jsonText = response;
                if (response.includes('```json')) {
                    jsonText = response.split('```json')[1].split('```')[0].trim();
                } else if (response.includes('```')) {
                    jsonText = response.split('```')[1].split('```')[0].trim();
                }
                
                resumeData = JSON.parse(jsonText);
                displayResumeJson();
                saveData();
                alert('Resume parsed successfully!');
                
            } catch (error) {
                console.error('Error parsing resume:', error);
                alert(`Error parsing resume: ${error.message}\n\nFalling back to demo mode...`);
                
                // Fallback to demo mode
                resumeData = createMockResumeData(resumeText);
                displayResumeJson();
                saveData();
            }
        }

        // Display parsed JSON
        function displayResumeJson() {
            document.getElementById('json-output').textContent = JSON.stringify(resumeData, null, 2);
            document.getElementById('resume-json').style.display = 'block';
        }

        // Edit JSON structure
        function editJson() {
            const currentJson = JSON.stringify(resumeData, null, 2);
            const newJson = prompt("Edit your resume JSON:", currentJson);
            
            if (newJson) {
                try {
                    resumeData = JSON.parse(newJson);
                    displayResumeJson();
                    saveData();
                    alert('Resume JSON updated successfully!');
                } catch (error) {
                    alert('Invalid JSON format. Please check your syntax.');
                }
            }
        }

        // Create mock resume data for demo
        function createMockResumeData(text) {
            // Extract basic info using regex patterns
            const emailMatch = text.match(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/);
            const phoneMatch = text.match(/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/);
            
            return {
                personal: {
                    name: "John Doe",
                    email: emailMatch ? emailMatch[0] : "john.doe@email.com",
                    phone: phoneMatch ? phoneMatch[0] : "+1-555-123-4567",
                    location: "San Francisco, CA",
                    linkedin: "linkedin.com/in/johndoe",
                    github: "github.com/johndoe"
                },
                summary: "Experienced software developer with 5+ years in full-stack development...",
                experience: [
                    {
                        company: "Tech Corp",
                        position: "Senior Developer",
                        duration: "2022-Present",
                        responsibilities: ["Led development team", "Architected scalable solutions"],
                        achievements: ["Increased system performance by 40%", "Reduced deployment time by 60%"]
                    }
                ],
                skills: {
                    technical: ["JavaScript", "Python", "React", "Node.js", "AWS"],
                    soft: ["Leadership", "Communication", "Problem-solving"]
                },
                education: [
                    {
                        degree: "BS Computer Science",
                        institution: "University of Technology",
                        year: "2018",
                        gpa: "3.8"
                    }
                ],
                projects: [
                    {
                        name: "E-commerce Platform",
                        description: "Built full-stack e-commerce solution",
                        technologies: ["React", "Node.js", "MongoDB"]
                    }
                ]
            };
        }

        // Analyze job match
        async function analyzeMatch() {
            jobDescription = document.getElementById('job-input').value;
            if (!jobDescription.trim()) {
                alert('Please paste the job description first');
                return;
            }

            if (!resumeData) {
                alert('Please parse your resume first');
                return;
            }

            showLoading('Analyzing match...');
            
            try {
                const prompt = `Analyze the match between this resume and job description. Return JSON with score (0-100) and detailed analysis:

RESUME:
${JSON.stringify(resumeData, null, 2)}

JOB DESCRIPTION:
${jobDescription}

Return only valid JSON:
{
  "score": 85,
  "analysis": "Detailed analysis...",
  "strengths": ["Strong technical skills", "Relevant experience"],
  "gaps": ["Missing certification", "Limited cloud experience"],
  "recommendations": ["Add AWS certification", "Highlight cloud projects"]
}`;

                const response = await callAI(prompt);
                const matchResult = JSON.parse(response);
                displayMatchResult(matchResult);
                saveData();
                
            } catch (error) {
                // Show demo result
                const demoResult = {
                    score: 78,
                    analysis: "Good match with strong technical alignment. Resume shows relevant experience but could benefit from highlighting specific skills mentioned in the job description.",
                    strengths: ["Strong technical background", "Relevant project experience", "Good educational foundation"],
                    gaps: ["Missing specific framework experience", "Limited cloud certifications", "Could emphasize leadership skills more"],
                    recommendations: ["Add cloud certification details", "Highlight team leadership experience", "Include specific metrics and achievements"]
                };
                displayMatchResult(demoResult);
            }
        }

        // Display match result
        function displayMatchResult(result) {
            const scoreDisplay = document.getElementById('score-display');
            const scoreValue = document.getElementById('score-value');
            const scoreDescription = document.getElementById('score-description');
            
            scoreValue.textContent = result.score;
            scoreDescription.textContent = result.analysis;
            
            // Set color based on score
            if (result.score >= 80) {
                scoreDisplay.className = 'score-display excellent';
            } else if (result.score >= 60) {
                scoreDisplay.className = 'score-display good';
            } else {
                scoreDisplay.className = 'score-display';
            }
            
            // Show suggestions
            const suggestionsContent = document.getElementById('suggestions-content');
            suggestionsContent.innerHTML = `
                <div class="suggestion-item">
                    <strong>Strengths:</strong> ${result.strengths.join(', ')}
                </div>
                <div class="suggestion-item">
                    <strong>Areas to Improve:</strong> ${result.gaps.join(', ')}
                </div>
                <div class="suggestion-item">
                    <strong>Recommendations:</strong> ${result.recommendations.join(', ')}
                </div>
            `;
            
            document.getElementById('match-result').style.display = 'block';
        }

        // Optimize section
        async function optimizeSection() {
            const section = document.getElementById('section-select').value;
            
            if (!resumeData || !jobDescription) {
                alert('Please complete resume parsing and job analysis first');
                return;
            }

            showLoading('Optimizing section...');
            
            try {
                const prompt = `Optimize the ${section} section of this resume for the given job description:

CURRENT ${section.toUpperCase()}:
${JSON.stringify(resumeData[section], null, 2)}

JOB DESCRIPTION:
${jobDescription}

Return only the optimized JSON structure for the ${section} section, maintaining the same format but with improved content that better matches the job requirements.`;

                const response = await callAI(prompt);
                const optimizedSection = JSON.parse(response);
                displayOptimizedContent(section, optimizedSection);
                
            } catch (error) {
                // Show demo optimization
                const demoOptimization = getDemoOptimization(section);
                displayOptimizedContent(section, demoOptimization);
            }
        }

        // Get demo optimization
        function getDemoOptimization(section) {
            const optimizations = {
                summary: "Results-driven software engineer with 5+ years of experience in full-stack development and cloud architecture. Proven track record of leading cross-functional teams and delivering scalable solutions that drive business growth. Expertise in modern web technologies with strong focus on performance optimization and user experience.",
                experience: [
                    {
                        company: "Tech Corp",
                        position: "Senior Full-Stack Developer",
                        duration: "2022-Present",
                        responsibilities: ["Led development of microservices architecture", "Mentored junior developers", "Implemented CI/CD pipelines"],
                        achievements: ["Increased system performance by 40%", "Reduced deployment time by 60%", "Led team of 5 engineers"]
                    }
                ],
                skills: {
                    technical: ["JavaScript/TypeScript", "React/Vue.js", "Node.js", "Python", "AWS/Azure", "Docker", "Kubernetes"],
                    soft: ["Technical Leadership", "Cross-functional Collaboration", "Agile Methodologies"]
                }
            };
            return optimizations[section] || resumeData[section];
        }

        // Display optimized content
        function displayOptimizedContent(section, content) {
            document.getElementById('optimized-content').textContent = JSON.stringify(content, null, 2);
            document.getElementById('optimization-result').style.display = 'block';
            
            // Store for potential acceptance
            window.currentOptimization = { section, content };
        }

        // Accept optimization
        function acceptOptimization() {
            if (window.currentOptimization) {
                resumeData[window.currentOptimization.section] = window.currentOptimization.content;
                saveData();
                alert('Optimization accepted! Your resume has been updated.');
                displayResumeJson();
            }
        }

        // Export resume
        function exportResume() {
            if (!resumeData) {
                alert('No resume data to export');
                return;
            }
            
            // Create formatted text version
            const formattedResume = formatResumeForExport(resumeData);
            
            // Create download link
            const blob = new Blob([formattedResume], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'optimized_resume.txt';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Format resume for export
        function formatResumeForExport(data) {
            let formatted = '';
            
            // Personal info
            formatted += `${data.personal.name}\n`;
            formatted += `${data.personal.email} | ${data.personal.phone}\n`;
            formatted += `${data.personal.location}\n`;
            if (data.personal.linkedin) formatted += `LinkedIn: ${data.personal.linkedin}\n`;
            if (data.personal.github) formatted += `GitHub: ${data.personal.github}\n`;
            formatted += '\n';
            
            // Summary
            formatted += 'PROFESSIONAL SUMMARY\n';
            formatted += '===================\n';
            formatted += `${data.summary}\n\n`;
            
            // Experience
            formatted += 'WORK EXPERIENCE\n';
            formatted += '===============\n';
            data.experience.forEach(exp => {
                formatted += `${exp.position} at ${exp.company} (${exp.duration})\n`;
                exp.responsibilities.forEach(resp => formatted += `â€¢ ${resp}\n`);
                exp.achievements.forEach(ach => formatted += `â€¢ ${ach}\n`);
                formatted += '\n';
            });
            
            // Skills
            formatted += 'SKILLS\n';
            formatted += '======\n';
            formatted += `Technical: ${data.skills.technical.join(', ')}\n`;
            formatted += `Soft Skills: ${data.skills.soft.join(', ')}\n\n`;
            
            // Education
            formatted += 'EDUCATION\n';
            formatted += '=========\n';
            data.education.forEach(edu => {
                formatted += `${edu.degree}, ${edu.institution} (${edu.year})\n`;
                if (edu.gpa) formatted += `GPA: ${edu.gpa}\n`;
                formatted += '\n';
            });
            
            return formatted;
        }

        // AI API call
        async function callAI(prompt) {
            if (apiKeys.openai) {
                return await callOpenAI(prompt);
            } else if (apiKeys.anthropic) {
                return await callAnthropic(prompt);
            } else {
                throw new Error('No API key configured');
            }
        }

        // OpenAI API call with CORS proxy
        async function callOpenAI(prompt) {
            try {
                // Try direct call first
                let response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKeys.openai}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-5-nano',
                        messages: [{ role: 'user', content: prompt }],
                        // Remove temperature for GPT-5 models (only supports default value of 1)
                        max_tokens: 2000
                    })
                });
                
                // If CORS error, try with proxy
                if (!response.ok && response.status === 0) {
                    console.log('CORS error, trying with proxy...');
                    response = await fetch('https://cors-anywhere.herokuapp.com/https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKeys.openai}`,
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        body: JSON.stringify({
                            model: 'gpt-5-nano',
                            messages: [{ role: 'user', content: prompt }],
                            max_tokens: 2000
                        })
                    });
                }
                
                if (!response.ok) {
                    const errorData = await response.text();
                    console.error('OpenAI API Error:', errorData);
                    throw new Error(`OpenAI API error: ${response.status} - ${errorData}`);
                }
                
                const data = await response.json();
                return data.choices[0].message.content;
            } catch (error) {
                console.error('OpenAI call failed:', error);
                throw error;
            }
        }

        // Anthropic API call
        async function callAnthropic(prompt) {
            const response = await fetch('https://api.anthropic.com/v1/messages', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'x-api-key': apiKeys.anthropic,
                    'anthropic-version': '2023-06-01'
                },
                body: JSON.stringify({
                    model: 'claude-3-sonnet-20240229',
                    max_tokens: 2000,
                    messages: [{ role: 'user', content: prompt }]
                })
            });
            
            if (!response.ok) {
                throw new Error('Anthropic API error');
            }
            
            const data = await response.json();
            return data.content[0].text;
        }

        // Show loading
        function showLoading(message) {
            // This would show a loading spinner - simplified for demo
            console.log(message);
        }

        // Initialize app
        loadData();
    </script>
</body>
</html>
